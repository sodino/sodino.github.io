
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="baidu_union_verify" content="d1952c66cf48912e21c18c7c581f382a">
  <meta name="360-site-verification" content="67fbcc5a67f4c65c057315b28fa0b2c8" />
<meta name="google-site-verification" content="2GzxQ0VtXwTSUdmGm6DzcmhTzM_I9QmzCb_pzpMzD88" />
  
    <title>【C/C++】宏(macro)定义与使用 | Sodino&#39;s Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
    
    <meta name="author" content="Sodino">
    
    <meta name="description" content="文章结构如下：

宏的定义
宏的替换与代码展开
宏的替换产生的问题
获取宏参数名称
宏参数的结合
宏的取消
宏定义的换行连接
标准预处理宏

宏(macro)是基于#define所实现的另一种预处理功能。与基本的#define定义的是常量相比，宏(macro)允许多个参数化替换，参数中可以是固定的字">
    
    
    
    
    <link rel="alternate" href="atom.xml" title="Sodino&#39;s Blog" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="stylesheet" href="/css/style.css">
    
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            var _bdId ='391982416296a0d54221f59fe35250d4';
             hm.src = "//hm.baidu.com/hm.js?" + _bdId;
             var s = document.getElementsByTagName("script")[0]; 
             s.parentNode.insertBefore(hm, s);
        })();
    </script>
     
</head>

  <body>
    <header>
      <div>
		
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="Sodino&#39;s Blog">Sodino&#39;s Blog</a></h1>
				<a class="blog-motto">见多食广 与食巨近</a>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">首页</a></li>
					
						<li><a href="/archives">归档</a></li>
					
						<li><a href="/about">关于我</a></li>
					
					<li>
					
                                            <form class="search" action=http://zhannei.baidu.com/cse/search target="_blank">
                                            <label>Search</label>
                                        <input name="s" type="hidden" value= null ><input type="text" name="q" size="30" placeholder="搜索"><br>
					
					</li>
				</ul>
                            </nav>			
</div>

    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/03/14/c-macro/" title="【C/C++】宏(macro)定义与使用" itemprop="url">【C/C++】宏(macro)定义与使用</a>
  </h1>
  <p class="article-author">By
    
      <a href="http://sodino.com" title="Sodino">Sodino</a>
    </p>
  <p class="article-time">
    <time datetime="2015-03-14T03:11:35.000Z" itemprop="datePublished">2015 03 14</time>
    更新日期:<time datetime="2015-03-15T04:40:45.000Z" itemprop="dateModified">2015 03 15</time>
    
  </p>
</header>
	<div class="article-content">
		
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#宏的定义"><span class="toc-number">1.</span> <span class="toc-text">宏的定义</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#宏的替换与代码展开"><span class="toc-number">2.</span> <span class="toc-text">宏的替换与代码展开</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#宏的-替换-产生的问题"><span class="toc-number">3.</span> <span class="toc-text">宏的 替换 产生的问题</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#获取宏参数名称"><span class="toc-number">4.</span> <span class="toc-text">获取宏参数名称</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#宏参数的结合"><span class="toc-number">5.</span> <span class="toc-text">宏参数的结合</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#宏的取消"><span class="toc-number">6.</span> <span class="toc-text">宏的取消</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#宏定义的换行连接"><span class="toc-number">7.</span> <span class="toc-text">宏定义的换行连接</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#标准预处理宏"><span class="toc-number">8.</span> <span class="toc-text">标准预处理宏</span></a></li></ol>
		</div>
		
		<p>文章结构如下：</p>
<ul>
<li><a href="#macro_def">宏的定义</a></li>
<li><a href="#macro_replace">宏的替换与代码展开</a></li>
<li><a href="#macro_error">宏的替换产生的问题</a></li>
<li><a href="#macro_var_name">获取宏参数名称</a></li>
<li><a href="#macro_var_join">宏参数的结合</a></li>
<li><a href="#macro_undef">宏的取消</a></li>
<li><a href="#macro_link_line">宏定义的换行连接</a></li>
<li><a href="#macro_std">标准预处理宏</a></li>
</ul>
<p>宏(macro)是基于<code>#define</code>所实现的另一种预处理功能。<br>与基本的<code>#define</code>定义的是常量相比，宏(macro)允许多个参数化<strong><em>替换</em></strong>，参数中可以是固定的字符串，也被一些<strong><em>变量</em></strong>所替代。这个<strong><em>替换</em></strong>的操作将在预编译的时候完成。<br>宏(macro)的作用是用比较简单的方式表示复杂的函数调用，以提高程序的可读性。</p>
<hr>
<h1 id="宏的定义"><a href="#宏的定义" class="headerlink" title="宏的定义"></a><a name="macro_def">宏的定义</a></h1><p>宏的定义遵循以下格式：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#define macro_name(list_of_var) substitution_string</div></pre></td></tr></table></figure></p>
<p><code>macro_name()</code>括号中支持0个到多个参数，参数间用<code>,</code>分隔开；定义的最后一部分是宏的表达式，在实际的预处理中会将该表达式替换到代码正文中去，这里要特别注意的是<strong><em>替换</em></strong>这个词(坑)。<br>下面是一个宏的定义示例，用于求出两个数的乘积：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#define multi(x, y) x * y;</div></pre></td></tr></table></figure></p>
<p>接收参数的宏看起来就像是函数。</p>
<hr>
<h1 id="宏的替换与代码展开"><a href="#宏的替换与代码展开" class="headerlink" title="宏的替换与代码展开"></a><a name="macro_replace">宏的替换与代码展开</a></h1><p>编译器在预编译时会把用到宏的代码替换成宏定义的表达式。<br>如上面定义的宏<code>multi</code>，可以如下代码中使用：<br>代码文件： macro.c<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">int multi = multi(2, 3);</div></pre></td></tr></table></figure></p>
<p>在预编译时，<strong><em>替换</em></strong>操作的查看可以通过编译器命令查看效果，命令如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">gcc -E macro.c &gt; result.txt</div><div class="line">// 或者 使用 -P 参数可以过滤到一些编译器链接标记符号信息</div><div class="line">gcc -E -P macro.c &gt; result.txt</div></pre></td></tr></table></figure></p>
<p>打开<code>result.txt</code>则会看到宏的替换后代码展开的效果为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">int multi = 2 * 3;;   // 确实是两个&quot;;&quot;  纯替换效果</div></pre></td></tr></table></figure>
<p>最后根据表达式的运算，<code>multi</code>的值为<code>6</code>。</p>
<hr>
<h1 id="宏的-替换-产生的问题"><a href="#宏的-替换-产生的问题" class="headerlink" title="宏的 替换 产生的问题"></a><a name="macro_error">宏的 <strong><em>替换</em></strong> 产生的问题</a></h1><p>如上所示，宏 <em>替换</em> 操作是纯表达式的原文替换，连末尾的“;”都不会落下。那么，这在某此情况下会产生一些不符合预期的结果。<br>继续以宏<code>multi</code>为例，如果改一下参数如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">int multi = multi(2, 3 + 2);</div></pre></td></tr></table></figure></p>
<p>以上的代码我们希望得到的结果是<code>10</code>，但代码输出却是<code>8</code>。我们使用预编译命令将预处理过宏的代码展开查看如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">int multi = 2 * 3 + 2;;</div></pre></td></tr></table></figure></p>
<p>可见，由于预处理时，对宏的操作只是<strong><em>替换</em></strong>,经替换后的代码由于运算符的优先级问题，结果可能与预期的是不一致的。在这个例子中，会先运行乘法得到<code>6</code>后再加上<code>2</code>结果为<code>8</code>。以上的这种问题还会发生在”++”、”- -“运算上。<br>所以在有参数的宏中，为了使用运算与预期的一致，需要对参数增加左右括号以保证运算结果，并且取消在宏定义处”;”的结尾。定义写法如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#define multi(x, y) (x)*(y)</div></pre></td></tr></table></figure></p>
<hr>
<h1 id="获取宏参数名称"><a href="#获取宏参数名称" class="headerlink" title="获取宏参数名称"></a><a name="macro_var_name">获取宏参数名称</a></h1><p>在宏的表达式中，配合”#”的使用可以获取宏参数的名称。<br>如下定义了一个打印字符串的例子：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#define PrintStr(var) printf(&quot;var=%s&quot;, var)</div></pre></td></tr></table></figure></p>
<p>在上面的表达式中，只能固定的打印出参数名称<code>var=</code>，但在项目中参数<code>var</code>的名称和其值一样是不固定的，有时候需要能够知道该<code>var</code>的命名，则可以这么做：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#define PrintStr(var) printf(#var&quot;=%s&quot; , var)</div></pre></td></tr></table></figure></p>
<p>则可以获取当前的字符串名称的命名。运用如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">#define PrintStr(var) printf(#var&quot;=%s&quot; , var)</div><div class="line"></div><div class="line">struct Student&#123;</div><div class="line">    char name[20];</div><div class="line">    int age;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">int main (int argc, char ** argv) &#123;</div><div class="line">    struct Student mine = &#123;&quot;jack.ma&quot;, 20&#125;;</div><div class="line">    PrintStr(mine.name);</div><div class="line">    printf(&quot;\n\n&quot;);</div><div class="line">    PrintStr(&quot;break.line\n&quot;);</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>则打印输出如下：<br><img src="http://ww3.sinaimg.cn/mw1024/e3dc9ceagw1eq67zzmpukj207s02awel.jpg" alt="PrintStr"><br>再使用gcc命令把宏展开后的代码贴出来看一下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">struct Student&#123;</div><div class="line">    char name[20];</div><div class="line">    int age;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">int main (int argc, char ** argv) &#123;</div><div class="line">    struct Student mine = &#123;&quot;jack.ma&quot;, 20&#125;;</div><div class="line">    printf(&quot;mine.name&quot;&quot;=%s&quot; , mine.name);</div><div class="line">    printf(&quot;\n\n&quot;);</div><div class="line">    printf(&quot;\&quot;break.line\\n\&quot;&quot;&quot;=%s&quot; , &quot;break.line\n&quot;);</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>可以看出，在宏的表达式中<code>#var</code>的结果代码在预编译的时候会把参数的原文一字不动的替换到代码中。这样来获取参数的命名。</p>
<hr>
<h1 id="宏参数的结合"><a href="#宏参数的结合" class="headerlink" title="宏参数的结合"></a><a name="macro_var_join">宏参数的结合</a></h1><p>宏的表达式中还支持对宏参数进行拼接，定义如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#define macro_name(var1, var2, var3) var1##var2##var3</div></pre></td></tr></table></figure></p>
<p>在上面的例子中，对宏的三个参数进行了拼接，拼接规则是在宏的表达式中，参数与参数之间用<code>##</code>连接起来，中间不能有空格。这个功能可以用于合成变量名称，或是从两个或多个宏参数中生成一个格式控制字符串。<br>用法示例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">#define PrintStr(var) printf(#var&quot;=%s&quot;, var)</div><div class="line">#define join(vA, vB, vC) vA##vB##vC</div><div class="line"></div><div class="line">int main (int argc, char ** argv) &#123;</div><div class="line">    char * name_car_1 = &quot;Fit&quot;;</div><div class="line">    </div><div class="line">    PrintStr(join(name, _car_, 1));</div><div class="line">    printf(&quot;\n\n&quot;);</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>使用gcc命令对宏进行代码展开后的预处理代码为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">int main (int argc, char ** argv) &#123;</div><div class="line">    char * name_car_1 = &quot;Fit&quot;;</div><div class="line"></div><div class="line">    printf(&quot;join(name, _car_, 1)&quot;&quot;=%s&quot;, name_car_1);</div><div class="line">    printf(&quot;\n\n&quot;);</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>所以如上代码运行结果为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">join(name, _car_, 1)=Fit</div></pre></td></tr></table></figure></p>
<blockquote>
<p>宏的参数结合功能可以通过<strong><em>替换</em></strong>功能组合成一个新的参数或变量名称，但值得注意的是这些操作都是在编译的预处理过程中实现的，即代码运行之前就已经决定了新的参数或变量的最终形态，无法在代码的真实运行过程中再加工。</p>
</blockquote>
<hr>
<h1 id="宏的取消"><a href="#宏的取消" class="headerlink" title="宏的取消"></a><a name="macro_undef">宏的取消</a></h1><p>定义了一个宏后，要对宏进行取消，需要使用指令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#undef macro_name</div></pre></td></tr></table></figure></p>
<p>通常<code>#undef</code>会和<code>#ifdef</code>或<code>#ifndef</code>等指令配合使用。</p>
<hr>
<h1 id="宏定义的换行连接"><a href="#宏定义的换行连接" class="headerlink" title="宏定义的换行连接"></a><a name="macro_link_line">宏定义的换行连接</a></h1><p>有时候宏的定义可能会很长，为了方便阅读，需要把宏的表达式做换行处理，仍以上面定义的宏<code>multi</code>为例可以这么操作：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#define multi(x, y) \</div><div class="line">        x * y</div></pre></td></tr></table></figure></p>
<p>使用<code>\</code>进行换行连接，这样宏定义指令会在下一行的第一个非空白字符处继续。需要注意的是<code>\</code>必须是当前行的最后一个字符，其后必须是回车。</p>
<hr>
<h1 id="标准预处理宏"><a href="#标准预处理宏" class="headerlink" title="标准预处理宏"></a><a name="macro_std">标准预处理宏</a></h1><p>C/C++的编译器也支持了大量的标准预处理宏。这里只说下常用的几个，更多的详情资料请点击<a href="https://linux.web.cern.ch/linux/scientific4/docs/rhel-cpp-en-4/predefined-macros.html" target="_blank" rel="external">3.7. Predefined Macros</a>。<br>需要注意的是不同的编译器相同功能的宏名称可能命名不一样。</p>
<ul>
<li><p>__FILE__<br>把当前代码源文件的<strong>绝对路径</strong>表示为一个字符串常量。</p>
</li>
<li><p>__FUNCTION__<br>也被命名为<code>__func__</code>，用于该宏所在函数体的函数名称。可以方便调试或异常判断。</p>
</li>
<li><p>__LINE__<br>得到当前宏所在的代码的行数，是一个int型。一般和<code>__FUNCTIN__</code>中配合来标识源代码中的什么地方发生了某个事件。</p>
</li>
<li><p>__DATE__<br>生成日期的字符串表达式，格式为<code>Mmm dd yyyy</code>，其中<code>Mmm</code>是月份如”Jan”、”Feb”等等。</p>
</li>
<li><p>__TIME__<br>提供了包含时间值的字符串，格式是<code>hh:mm:ss</code>。再次强制宏只是在预处理的时间才进行的代码替换，所以这里的时间指的是编译器的运行时间点，而非程序运行时间。一般用这个宏来记录编译器的编译时间点。</p>
</li>
</ul>
<p>代码示例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">int main (int argc, char ** argv) &#123;</div><div class="line">    printf(&quot;current file name=  %s\n&quot;, __FILE__);</div><div class="line">    printf(&quot;current function name=  %s\n&quot;, __FUNCTION__);</div><div class="line">    printf(&quot;current line number=      %d\n&quot;, __LINE__);</div><div class="line">    printf(&quot;current date=    %s\n&quot;, __DATE__);</div><div class="line">    printf(&quot;current time=       %s\n&quot;, __TIME__);</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>宏展开后的代码为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">int main (int argc, char ** argv) &#123;</div><div class="line">    printf(&quot;current file name=  %s\n&quot;, &quot;macro.c&quot;);</div><div class="line">    printf(&quot;current function name=  %s\n&quot;, __FUNCTION__);</div><div class="line">    printf(&quot;current line number=      %d\n&quot;, 15);</div><div class="line">    printf(&quot;current date=    %s\n&quot;, &quot;Mar 15 2015&quot;);</div><div class="line">    printf(&quot;current time=       %s\n&quot;, &quot;12:31:35&quot;);</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
  
	</div>
		<footer class="article-footer clearfix">

  <div class="article-tags">
  
  <span></span> <a href="/tags/C-C/">C/C++</a>
  </div>


<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/C-C/">C/C++</a>
</div>



<div class="article-share" id="share">

  <div data-url="http://sodino.com/2015/03/14/c-macro/" data-title="【C/C++】宏(macro)定义与使用 | Sodino&#39;s Blog" data-tsina="null" class="share clearfix">
  </div>

</div>
</footer>   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2015/03/15/c-time/" title="【C/C++】日常时间的获取、格式化等操作汇总">
  <strong>PREVIOUS:</strong><br/>
  <span>
  【C/C++】日常时间的获取、格式化等操作汇总</span>
</a>
</div>


<div class="next">
<a href="/2015/03/09/c-directory-io/"  title="【C/C++】文件夹的打开、遍历、删除、创建、关闭操作汇总">
 <strong>NEXT:</strong><br/> 
 <span>【C/C++】文件夹的打开、遍历、删除、创建、关闭操作汇总
</span>
</a>
</div>

</nav>

	
<section class="comment">
	<div class="ds-thread"></div>
</section>

</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
  <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#宏的定义"><span class="toc-number">1.</span> <span class="toc-text">宏的定义</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#宏的替换与代码展开"><span class="toc-number">2.</span> <span class="toc-text">宏的替换与代码展开</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#宏的-替换-产生的问题"><span class="toc-number">3.</span> <span class="toc-text">宏的 替换 产生的问题</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#获取宏参数名称"><span class="toc-number">4.</span> <span class="toc-text">获取宏参数名称</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#宏参数的结合"><span class="toc-number">5.</span> <span class="toc-text">宏参数的结合</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#宏的取消"><span class="toc-number">6.</span> <span class="toc-text">宏的取消</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#宏定义的换行连接"><span class="toc-number">7.</span> <span class="toc-text">宏定义的换行连接</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#标准预处理宏"><span class="toc-number">8.</span> <span class="toc-text">标准预处理宏</span></a></li></ol>
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">
<div id="authorInfo">
	
		<div class="author-logo"></div>		
	
	<div class="social-list" class="clearfix">
		
		<a href="http://weibo.com/3822886122" target="_blank" title="weibo"></a>
		
		
		
		<a href="https://github.com/sodino" target="_blank" title="github"></a>
		
		
		
	</div>
</div>

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
			<li><a href="/categories/android/" title="Android">Android<sup>13</sup></a></li>
		
			<li><a href="/categories/AndroidStudio/" title="AndroidStudio">AndroidStudio<sup>5</sup></a></li>
		
			<li><a href="/categories/C-C/" title="C/C++">C/C++<sup>26</sup></a></li>
		
			<li><a href="/categories/Eclipse/" title="Eclipse">Eclipse<sup>1</sup></a></li>
		
			<li><a href="/categories/Hexo/" title="Hexo">Hexo<sup>1</sup></a></li>
		
			<li><a href="/categories/JDK/" title="JDK">JDK<sup>1</sup></a></li>
		
			<li><a href="/categories/JNI/" title="JNI">JNI<sup>2</sup></a></li>
		
			<li><a href="/categories/JavaScript/" title="JavaScript">JavaScript<sup>6</sup></a></li>
		
			<li><a href="/categories/LBS/" title="LBS">LBS<sup>1</sup></a></li>
		
			<li><a href="/categories/Linux/" title="Linux">Linux<sup>7</sup></a></li>
		
			<li><a href="/categories/Mac/" title="Mac">Mac<sup>2</sup></a></li>
		
			<li><a href="/categories/Node-js/" title="Node.js">Node.js<sup>17</sup></a></li>
		
			<li><a href="/categories/Proguard/" title="Proguard">Proguard<sup>2</sup></a></li>
		
			<li><a href="/categories/React-Native/" title="React-Native">React-Native<sup>1</sup></a></li>
		
			<li><a href="/categories/blog/" title="blog">blog<sup>3</sup></a></li>
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			<li><a href="/tags/Android/" title="Android">Android<sup>18</sup></a></li>
		
			<li><a href="/tags/AndroidStudio/" title="AndroidStudio">AndroidStudio<sup>5</sup></a></li>
		
			<li><a href="/tags/C-C/" title="C/C++">C/C++<sup>25</sup></a></li>
		
			<li><a href="/tags/Eclipse/" title="Eclipse">Eclipse<sup>1</sup></a></li>
		
			<li><a href="/tags/Hexo/" title="Hexo">Hexo<sup>1</sup></a></li>
		
			<li><a href="/tags/JDK/" title="JDK">JDK<sup>1</sup></a></li>
		
			<li><a href="/tags/JNI/" title="JNI">JNI<sup>2</sup></a></li>
		
			<li><a href="/tags/Java/" title="Java">Java<sup>1</sup></a></li>
		
			<li><a href="/tags/JavaScript/" title="JavaScript">JavaScript<sup>6</sup></a></li>
		
			<li><a href="/tags/LBS/" title="LBS">LBS<sup>1</sup></a></li>
		
			<li><a href="/tags/Linux/" title="Linux">Linux<sup>7</sup></a></li>
		
			<li><a href="/tags/Mac/" title="Mac">Mac<sup>2</sup></a></li>
		
			<li><a href="/tags/NDK/" title="NDK">NDK<sup>1</sup></a></li>
		
			<li><a href="/tags/Node-js/" title="Node.js">Node.js<sup>17</sup></a></li>
		
			<li><a href="/tags/Proguard/" title="Proguard">Proguard<sup>2</sup></a></li>
		
			<li><a href="/tags/React-Native/" title="React-Native">React-Native<sup>1</sup></a></li>
		
			<li><a href="/tags/object-Object/" title="[object Object]">[object Object]<sup>1</sup></a></li>
		
			<li><a href="/tags/blog/" title="blog">blog<sup>3</sup></a></li>
		
			<li><a href="/tags/markdown/" title="markdown">markdown<sup>1</sup></a></li>
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
      <li><a href="http://blog.csdn.net/sodino" target="_blank" title="Sodino Csdn">CSDN's Blog</a></li>
    </ul>
</div>


  <div class="rsspart">
	<a href="atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

  
  <div class="tagcloudlist">
    <p class="asidetitle">标签云</p>
    <div class="tagcloudlist clearfix">
       <a href="/tags/Android/" style="font-size: 18.75px;">Android</a> <a href="/tags/AndroidStudio/" style="font-size: 13.75px;">AndroidStudio</a> <a href="/tags/C-C/" style="font-size: 20px;">C/C++</a> <a href="/tags/Eclipse/" style="font-size: 10px;">Eclipse</a> <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/JDK/" style="font-size: 10px;">JDK</a> <a href="/tags/JNI/" style="font-size: 11.25px;">JNI</a> <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/JavaScript/" style="font-size: 15px;">JavaScript</a> <a href="/tags/LBS/" style="font-size: 10px;">LBS</a> <a href="/tags/Linux/" style="font-size: 16.25px;">Linux</a> <a href="/tags/Mac/" style="font-size: 11.25px;">Mac</a> <a href="/tags/NDK/" style="font-size: 10px;">NDK</a> <a href="/tags/Node-js/" style="font-size: 17.5px;">Node.js</a> <a href="/tags/Proguard/" style="font-size: 11.25px;">Proguard</a> <a href="/tags/React-Native/" style="font-size: 10px;">React-Native</a> <a href="/tags/object-Object/" style="font-size: 10px;">[object Object]</a> <a href="/tags/blog/" style="font-size: 12.5px;">blog</a> <a href="/tags/markdown/" style="font-size: 10px;">markdown</a>
    </div>
  </div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
    
            <p class="copyright"> © 2017 
		
		<a href="http://sodino.com" target="_blank" title="Sodino">Sodino</a>
		
            && Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a>
</div>
</footer>
    <script src="/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
    o.click(function(){
      ta.css('display', 'none');
    });
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="#textlogo" class="article-back-to-top" title="Top"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>


<script type="text/javascript">
  var duoshuoQuery = {short_name:"sodino"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 





<script>
    
        var _bdImg = '4';
    
    window._bd_share_config={
        "common":{
            "bdSnsKey":{

            },
            "bdText":"",
            "bdMini":"2",
            "bdMiniList":[
                "qzone",
                "tsina",
                "weixin",
                "renren",
                "tqq",
                "tieba",
                "douban",
                "sqq",
                "diandian",
                "huaban",
                "youdao",
                "mail",
                "ty",
                "fbook",
                "twi",
                "linkedin",
                "copy",
                "print"
            ],
            "bdPic":"",
            "bdStyle":"0",
            "bdSize":"16"
        },
        "slide":{
            "type":"slide",
            "bdImg":_bdImg,
            "bdPos":"right",
            "bdTop":"350"
        },
        "image":{
            "viewList":[
                "weixin",
                "qzone",
                "tsina",
                "renren",
                "douban",
                "tqq"
            ],
            "viewText":"分享：",
            "viewSize":"16"
        },
        "selectShare":{
            "bdContainerClass":null,
            "bdSelectMiniList":[
                "weixin",
                "qzone",
                "tsina",
                "renren",
                "douban",
                "tqq"
            ]
        }
    };
    with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script>




<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'null', 'null');  
ga('send', 'pageview');
</script>


  </body>
</html>

