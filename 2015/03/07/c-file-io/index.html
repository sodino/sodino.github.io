<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><script data-ad-client="ca-pub-9442633619132398" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script data-ad-client="ca-pub-9442633619132398" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Sodino的个人博客"><title>【C/C++】文件创建、打开、读、写、复制、关闭、删除等操作汇总 | Sodino's Blog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">【C/C++】文件创建、打开、读、写、复制、关闭、删除等操作汇总</h1><a id="logo" href="/.">Sodino's Blog</a><p class="description">见多食广 与食巨近</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">【C/C++】文件创建、打开、读、写、复制、关闭、删除等操作汇总</h1><div class="post-meta">Mar 7, 2015<span> | </span><span class="category"><a href="/categories/C-C/">C/C++</a></span></div><div class="post-content"><p>本文讲述Linux C 中对文件的操作。分为以下几部分内容：</p>
<ol>
<li><a href="#fopen">打开方式 (包含 <em>创建</em> 能力)</a></li>
<li><a href="#f_read_write">读、写操作</a><blockquote>
<p><a href="#f_read_write_char">读、写单个字符</a><br><a href="#f_read_write_string">读、写字符串</a><br><a href="#f_read_write_format">格式化读、写操作</a></p>
</blockquote>
</li>
<li><a href="#f_data">数据块的读写</a></li>
<li><a href="#f_errno">错误码判断与操作</a></li>
<li><a href="#file_site">位置指针移动</a></li>
<li><a href="#f_close">关闭文件</a></li>
<li><a href="#f_remove">删除文件</a></li>
</ol>
<p>以上操作涉及的函数<code>#include &lt;stdio.h&gt;</code>即可。</p>
<hr>
<p>#<a name="fopen">打开方式</a></p>
<blockquote>
<p>FILE *fopen(const char *path, const char *mode);<br>FILE *fdopen(int fd, const char *mode);<br>FILE *freopen(const char *path, const char *mode, FILE *stream);   </p>
</blockquote>
<p>打开一个文件可以用以上三个函数来实现，该函数执行后则会有相应的流与FILE*绑定。<br>如果函数正常执行则会返回FILE *,否则返回NULL，且具体的失败原因可以从<code>errno</code>中查询。</p>
<p>#####FILE *fopen(const char *path, const char *mode);   #####</p>
<p><code>fopen()</code>的第一个参数<code>path</code>用于指定要打开的文件名，第二个参数<code>mode</code>指定打开的方式模式。打开文件的模式可以是下列表中的某一项，或者某几项的组合。下表中给出了子模式的含义，且与其它模式的区别。</p>
<p>|模式|文件不存在|读写能力|读位置|写位置|写操作对原文件内容影响|<br>|—-|—-|<br>|r|—-|只读|文件开头|—-|—-|<br>|r+|—-|读写|文件开头|文件开头|原内容被新内容从文件开头按顺序被逐个字符地覆盖|<br>|w|创建|只写|—-|文件开头|原内容被清空，新内容从文件开头写入|<br>|w+|创建|读写|文件开头|文件开头|原内容被清空，新内容从文件开头写入|<br>|a|创建|只写|—-|文件结尾|新内容写在原内容后面|<br>|a+|创建|读写|文件开头|文件结尾|新内容写在原内容后面|</p>
<blockquote>
<p>r: read w:write a:append b:binary   </p>
</blockquote>
<p>有些时候会看到文件打开模式除了上面的几种情况或由这几种情况的任意组合外，还会有和<code>b</code>的组合，含义是：<br>出现<code>b</code>表示以 <em>二进制文件方式</em> 操作文件，否则以 <em>文本文件方式</em> 操作。</p>
<p>模式<code>w+</code>和<code>a+</code>虽然都具有读权限，但实践中有可能出现无法读出文件中的内容，原因如下：</p>
<ul>
<li>使用<code>fopen</code>时<code>w+</code>一开始会把文件清空，这时候去读是没有内容的；写操作完毕后文件已经有内容了，这时候直接去读取，由于文件指针位置在文件末尾，所以仍然无法读取到内容，得把<code>文件指针位置</code>移动到文件之前的位置，才有内容可以读出。</li>
<li>使用<code>a+</code>时，情形同<code>w+</code>相似，<code>文件指针位置</code>是在文件的结束位置，导致读不出内容。</li>
</ul>
<p>示例代码将在文章的下半部分<a href="#file_site">文件位置指针移动</a>中给出。</p>
<p>#####FILE *fdopen(int fd, const char *mode);#####    </p>
<p><code>fdopen()</code>是使用文件描述符<code>fd</code>来操作文件流的。<br>功能几乎与<code>fopen()</code>相似。差别在于   </p>
<ul>
<li><code>fdopen()</code>在使用模式<code>w</code>和<code>w+</code>时，并不会对原有的文件内容进行清空操作；   </li>
<li><code>fdopen()</code>可以直接使用<code>STDIN_FILENO</code>(mode要具备<code>r</code>权限)、<code>STDOUT_FILENO</code>(mode要具备<code>w</code>权限)、<code>STDERR_FILENO</code>(mode要具备<code>w</code>权限)来操作标准输入输出流。  </li>
</ul>
<p>相关：函数<code>fileno()</code>可以获取某个文件的<code>fd</code>。</p>
<blockquote>
<p>int fileno(FILE *stream);</p>
</blockquote>
<p>示例，以下代码演示从终端命令行中敲入一个字符并打印出来。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#incluce <span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#incluce <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#incluce <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    FILE* file = fdopen(STDIN_FILENO, <span class="string">"r"</span>);</span><br><span class="line">    <span class="keyword">if</span> (file == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"fopen fail:%s "</span>, filePath);</span><br><span class="line">        perror(<span class="string">""</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> ch = fgetc(file);</span><br><span class="line">    <span class="keyword">if</span> (ch == EOF) &#123;</span><br><span class="line">        <span class="keyword">if</span> (errno != <span class="number">0</span>) &#123;</span><br><span class="line">            perror(<span class="string">"fgetc fail:"</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"feof %d \n"</span>, feof(file));</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"read file end. %d \n"</span>, feof(file));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"fgetc:%c \n"</span>, ch);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    fclose(file);</span><br><span class="line">    <span class="keyword">return</span> EXIT_SUCCESS;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>#####FILE *freopen(const char *path, const char *mode, FILE *stream); #####<br><code>freopen()</code>的功能是将一个已经打开的流(参数中的stream,可以是文件也可以是标准输出输入流)重定向到另一个流(函数返回值)中去，重定向的位置由参数<code>path</code>决定。</p>
<p>示例代码：将标准输出流重定向到指定文件</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#incluce <span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#incluce <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#incluce <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    FILE * tmp;</span><br><span class="line">    <span class="comment">// 重定向标准输出流到指定的文件中去</span></span><br><span class="line">    <span class="keyword">if</span>((tmp = freopen(<span class="string">"/Users/sodino/reopen.txt"</span>, <span class="string">"w"</span>, <span class="built_in">stdout</span>)) == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="comment">// 重定向失败，打印失败日志</span></span><br><span class="line">        <span class="built_in">fprintf</span>(<span class="built_in">stderr</span>,<span class="string">"error1:redirecting stdout \n"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 重定向成功，下面这个语句将会输出到上面指定的文件中去，且不会在命令行终端中显示</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"This will go into a file. %d\n"</span>, (tmp == <span class="built_in">stdout</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 重定向后，可以继续重定向流到其它文件，之前的文件不再接受后续的写入</span></span><br><span class="line">    <span class="keyword">if</span>((tmp = freopen(<span class="string">"/Users/sodino/reopen.2.txt"</span>, <span class="string">"w"</span>, <span class="built_in">stdout</span>)) == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="built_in">fprintf</span>(<span class="built_in">stderr</span>,<span class="string">"error1 redirecting stdout\n"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"2This will go into a file. %d\n"</span>, (tmp == <span class="built_in">stdout</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 关闭流：输出流，则xcode的控制台区域会自动关闭</span></span><br><span class="line">    fclose(tmp);</span><br><span class="line">    <span class="keyword">return</span> EXIT_SUCCESS;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<p>#<a name="f_read_write">读、写操作<br>#####<a name="f_read_write_char">读、写单个字符#####<br>读：</a></a></p>
<blockquote>
<p>int fgetc(FILE *stream);<br>int getc(FILE *stream);<br>int getchar(void);</p>
</blockquote>
<p><code>fgetc()</code>从指定的流中读取下一个字符，把unsigned char强制转换成int。<br><code>getc()</code>功能与<code>fgetc()</code>一致，只是在函数执行时可能会对流多做一次评估验证。<br><code>getchar()</code>功能等同于<code>getc(stdin)</code>。</p>
<p>以上三个函数在正常执行时都会返回读取到的字符<code>int</code>，在发生错误或已经读到流的结束位置则返回<code>EOF</code>。</p>
<p>写：</p>
<blockquote>
<p>int fputc(int c, FILE *stream);<br>int putc(int c, FILE *stream);<br>int putchar(int c);</p>
</blockquote>
<p><code>fputc()</code>将int转化为unsigned char并写入流中。<br><code>putc()</code>功能与<code>fputc()</code>一致，只是在函数执行时可能会对流多做一次评估验证。<br><code>putchar()</code>功能等同于<code>putc(c, stdout)</code>。</p>
<p>三个函数在正常执行时会将写入的字符<code>c</code>返回，在执行发生错误时则返回<code>EOF</code>。</p>
<p><a name="file_io_copy_demo">Copy Demo</a></p>
<p>下面的示例代码演示复制一个文件的过程,<code>copyFile_str()</code>是逐字节复制，而<code>copyFile_data()</code>是每次8KB的数据块在复制，所以效率会高一些。<code>fread()</code>及<code>fwrite()</code>将会在下文中继续提到。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**复制成功返回复制的文件大小；否则返回-1。*/</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">long</span> <span class="title">copyFile</span><span class="params">(FILE*src, FILE*dest)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (src == <span class="literal">NULL</span> || dest == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (ftell(src) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        rewind(src);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">long</span> count = <span class="number">0</span>; <span class="comment">// 进度。</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">int</span> ch = fgetc(src);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (ch == EOF) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!feof(src)) &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"fgetc() break res=-1. count=%ld \n"</span>, count);</span><br><span class="line">                res = <span class="number">-1</span>; <span class="comment">// 失败</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// 正常的结尾</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">int</span> tmp = fputc(ch, dest);</span><br><span class="line">            <span class="keyword">if</span> (tmp == EOF) &#123;</span><br><span class="line">                res = <span class="number">-1</span>;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"fputc() break res=-1. count=%ld \n"</span>, count);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            count ++;</span><br><span class="line">            <span class="keyword">continue</span>; <span class="comment">// 继续复制</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> (res == <span class="number">-1</span>)?<span class="number">-1L</span>:count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">long</span> <span class="title">copyFile_str</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *srcPath, <span class="keyword">const</span> <span class="keyword">char</span> *destPath)</span> </span>&#123;</span><br><span class="line">    FILE * src = fopen(srcPath,<span class="string">"r"</span>);</span><br><span class="line">    FILE * dest = fopen(destPath,<span class="string">"w"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">long</span> res = copyFile(src, dest);</span><br><span class="line"></span><br><span class="line">    fclose(dest);</span><br><span class="line">    fclose(src);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">long</span> <span class="title">copyFileData</span><span class="params">(FILE*src, FILE*dest)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (src == <span class="literal">NULL</span> || dest == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 指针移动到文件末尾</span></span><br><span class="line">    fseek(src, <span class="number">0</span>, SEEK_END);</span><br><span class="line">    <span class="comment">// 获取文件大小</span></span><br><span class="line">    <span class="keyword">long</span> file_size = ftell(src);</span><br><span class="line">    <span class="comment">// 指针回到文件头</span></span><br><span class="line">    rewind(src);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">long</span> count = <span class="number">0</span>; <span class="comment">// 进度。</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> LEN_DATA = <span class="number">8</span>*<span class="number">1024</span>;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">char</span> data[LEN_DATA];</span><br><span class="line"><span class="comment">//    printf("size: %lu \n", sizeof(data));</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="comment">// 获取当前位置</span></span><br><span class="line">        <span class="keyword">long</span> current = ftell(src);</span><br><span class="line">        <span class="comment">// 计算剩余量</span></span><br><span class="line">        <span class="keyword">long</span> leave = file_size - current;</span><br><span class="line">        <span class="keyword">int</span> readSize = LEN_DATA;</span><br><span class="line">        <span class="keyword">if</span> (leave == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// 拷贝结束了。</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"leave == 0 feof.\n"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (leave &lt; LEN_DATA) &#123;</span><br><span class="line">            <span class="comment">// 拷贝快结束了，但数据量已经小于LEN_DATA了</span></span><br><span class="line">            readSize = (<span class="keyword">int</span>)leave;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 读取数据块</span></span><br><span class="line">        <span class="keyword">size_t</span> <span class="keyword">res_t</span> = fread(&amp;data, <span class="number">1</span>, readSize, src);</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">res_t</span> == readSize) &#123;</span><br><span class="line">            <span class="comment">// 正常读取</span></span><br><span class="line">            <span class="keyword">size_t</span> w_res = fwrite(&amp;data, <span class="number">1</span>, <span class="keyword">res_t</span>, dest);</span><br><span class="line">            count += w_res;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">res_t</span> == w_res) &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"write=%ld res_t=%zu \n"</span>, count, <span class="keyword">res_t</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"fwrite fail. \n"</span>);</span><br><span class="line">                res = <span class="number">-1</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (feof(src) != <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"feof res_t=%zu \n"</span>, <span class="keyword">res_t</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"fread fail...\n"</span>);</span><br><span class="line">            res = <span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> (res == <span class="number">-1</span>)?<span class="number">-1</span>:count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">long</span> <span class="title">copyFile_data</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> * srcPath, <span class="keyword">const</span> <span class="keyword">char</span> *destPath)</span> </span>&#123;</span><br><span class="line">    FILE * src = fopen(srcPath,<span class="string">"r"</span>);</span><br><span class="line">    FILE * dest = fopen(destPath,<span class="string">"w"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">long</span> res = copyFileData(src, dest);</span><br><span class="line">    </span><br><span class="line">    fclose(dest);</span><br><span class="line">    fclose(src);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> *srcPath = <span class="string">"/Users/sodino/workspace/xcode/CString/CString/a.out"</span>;</span><br><span class="line">    <span class="keyword">char</span> *destPath = <span class="string">"/Users/sodino/workspace/xcode/CString/CString/a1.out"</span>;</span><br><span class="line">    <span class="keyword">long</span> res = copyFile_str(srcPath, destPath);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (res == <span class="number">-1</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"copyFile_str() fail. \n\n\n"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"copyFile_str() count=%d. \n\n\n"</span>, res);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"do copyFile_data() \n"</span>);</span><br><span class="line">    res = copyFile_data(srcPath, destPath);</span><br><span class="line">    <span class="built_in">printf</span> (<span class="string">"copy.file.length=%ld \n"</span>, res);</span><br><span class="line">    <span class="keyword">if</span> (res == <span class="number">-1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> EXIT_FAILURE;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> EXIT_SUCCESS;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>#####<a name="f_read_write_string">读、写字符串#####<br>读：</a></p>
<blockquote>
<p>char *fgets(char *s, int size, FILE *stream);</p>
</blockquote>
<p>从流中读取一个小于<code>size</code>长度的字符串，并将读到的字符串<code>s</code>返回。在读取过程中如果碰到<code>EOF</code>或换行，则把已经读到的字符串返回不再继续往下读取。返回的字符串会自动加上字符串终止符<code>/0</code>，字符串终止符是算在<code>size</code>里面的，所以得到的字符串一直是小于<code>size</code>的。<br>当执行发生错误或已经读到流的结束位置了则返回NULL。</p>
<p>写：</p>
<blockquote>
<p>int fputs(const char *s, FILE *stream);<br>int puts(const char *s);     </p>
</blockquote>
<p><code>fputs()</code>会将参数中字符串<code>s</code>去掉字符串终止符<code>/0</code>然后写入指定的流中去。<br><code>puts()</code>相当于<code>fputs(s, stdout)</code>，即把字符串输出到标准输出流中去，且会在字符串后面自动加上换行符。</p>
<p>当函数正常执行时，则返回一个非0的数字代表写入的字符个数；否则返回<code>EOF</code>。</p>
<p>#####<a name="f_read_write_format">格式化读、写操作#####<br><code>#include &lt;stdio.h&gt;</code></a></p>
<blockquote>
<p>int fscanf(FILE *stream, const char *format, …);  // 格式化读<br>int fprintf(FILE *stream, const char *format, …); // 格式化写</p>
</blockquote>
<p>之前的文章已经讲过了<a href="http://sodino.com/2015/02/01/c-printf-desc/">printf()</a>强大的日志打印功能，在文件流的读、写上<code>fprintf()</code>相当于是把<code>printf()</code>的内容写入到指定的流中去；<code>fscanf()</code>则是<code>fprintf()</code>的反操作，读。</p>
<p>示例代码将在<a href="#file_site">文件位置指针移动</a>中给出。</p>
<hr>
<p>#<a name="f_data">数据块的读写</a></p>
<blockquote>
<p>size_t fread(void *ptr, size_t size, size_t nmemb, FILE *stream);<br>size_t fwrite(const void *ptr, size_t size, size_t nmemb, FILE *stream);</p>
</blockquote>
<p><code>fread()</code>用于流操作中数据块的读取。将读到的数据存储于第一个参数<code>ptr</code>中，第二个参数<code>size</code>告诉函数每个数据块的大小，第三个参数<code>nmemb</code>指明要读取数据块的数量，第四个参数<code>stream</code>指明读取的数据流。<br>本函数正常执行完毕后返回数据块的读取数量，即<code>nmemb</code>;当执行出现错误或遇到了文件结束的位置时，则返回0或比<code>nmemb</code>小的数。至于是出现错误还是文件结束导致的非正常执行，则要通过<code>feof()</code>和<code>ferror()</code>来判断。</p>
<p><code>fwrite()</code>用于流操作中的数据块写入。第一个参数<code>ptr</code>表示要写入的数据，第二个参数<code>size</code>告诉函数每个数据块的大小，第三个参数<code>nmemb</code>指明要写入数据块的数量，第四个参数<code>stream</code>指明写入的数据流。<br>本函数正常执行完毕后返回数据块的读取数量，即<code>nmemb</code>;当执行出现错误，则返回0或比<code>nmemb</code>小的数。</p>
<p>这两个方法经常用于二进制文件的操作，所以打开方式上要与<code>b</code>模式组合。</p>
<p>示例代码：批量读写 <code>sturct student</code>:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span> &#123;</span></span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">25</span>];</span><br><span class="line">    <span class="keyword">char</span> sex;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">        <span class="keyword">int</span> year;</span><br><span class="line">        <span class="keyword">int</span> month;</span><br><span class="line">        <span class="keyword">int</span> day;</span><br><span class="line">    &#125;birthday;</span><br><span class="line">    <span class="keyword">float</span> BWH[<span class="number">3</span>];<span class="comment">// bust, waist and hips</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> ** argv)</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">student</span> <span class="title">pes</span>[3] = &#123;</span>&#123;<span class="string">"jack ma"</span>,<span class="string">'M'</span>,<span class="number">1985</span>,<span class="number">2</span>,<span class="number">22</span>,<span class="number">80</span>,<span class="number">95</span>,<span class="number">60.5</span>&#125;,</span><br><span class="line">        &#123;<span class="string">"pony"</span>,<span class="string">'F'</span>,<span class="number">1984</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">57</span>,<span class="number">60</span>,<span class="number">78</span>&#125;,</span><br><span class="line">        &#123;<span class="string">"robin"</span>,<span class="string">'F'</span>,<span class="number">1995</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">77.0</span>,<span class="number">90</span>,<span class="number">77.5</span>&#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    FILE *fpr;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">student</span> <span class="title">b</span>;</span></span><br><span class="line">    fpr = fopen(<span class="string">"W.DAT"</span>,<span class="string">"wb+"</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++) &#123;</span><br><span class="line">        fwrite(pes+i,<span class="keyword">sizeof</span>(struct student),<span class="number">1</span>,fpr);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//    上面的for循环等价于下面这一句</span></span><br><span class="line">    <span class="comment">//    fwrite(pes,sizeof(struct student),3,fpr);</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 将文件指针移动到初始位置进行读操作</span></span><br><span class="line">    fseek(fpr,<span class="number">0L</span>,SEEK_SET);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++) &#123;</span><br><span class="line">        fread(&amp;b,<span class="keyword">sizeof</span>(struct student),<span class="number">1</span>,fpr);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%7s  "</span>,b.name); <span class="comment">// 打印名字默认使用7个字符的空间</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%c   "</span>,b.sex);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%04dY %02dM %02dD  "</span>,b.birthday.year,b.birthday.month,b.birthday.day);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%5.1f %5.1f %5.1f"</span>,b.BWH[<span class="number">0</span>],b.BWH[<span class="number">1</span>],b.BWH[<span class="number">2</span>]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    fclose(fpr);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> EXIT_SUCCESS;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<p>#<a name="f_errno">错误码判断与操作<br>有时候在执行流的读操作时，发现返回为NULL或者EOF，这时需要判断是到了流(文件)的结束位置了？还是出现错误了？这就涉及到如下函数：   </a></p>
<blockquote>
<p>int feof(FILE *stream);<br>int ferror(FILE *stream);<br>void clearerr(FILE *stream);</p>
</blockquote>
<p><code>feof()</code>判断文件是否处于文件结束位置，如文件结束，则返回值为1，否则为0。<br><code>ferror(文件指针)</code>检查文件在用各种输入输出函数进行读写时是否出错。 如ferror返回值为0表示未出错，否则表示有错。 </p>
<p><code>clearerr()</code>用于清除出错标志和文件结束标志，使它们为初始值0。</p>
<hr>
<p>#<a name="file_site">文件位置指针移动<br>在读流(文件)时，已经读到文件结束的位置时，或者想以当前位置为准跳过指定长度的数据继续往下读，则需要移动文件位置指针。一般常用的涉及到以下三个函数：</a></p>
<blockquote>
<p>long ftell(FILE *stream);<br>int fseek(FILE *stream, long offset, int whence);<br>void rewind(FILE *stream);</p>
</blockquote>
<p><code>ftell()</code>用于获知当前文件指针的位置。<br><code>fseek()</code>用于改变文件指针的位置，第二个参数<code>offset</code>是指参照<code>whence</code>后指针进一步的偏移量。第三个参数<code>whence</code>有三种赋值及其含义分别为：<br>    <strong>SEEK_SET</strong>: 文件指针回到文件初始位置。<br>    <strong>SEEK_CUR</strong>: 文件指针不变，仍处于当前位置。一般配合<code>offset</code>移动文件指针到当前位置前后若干字节。<br>    <strong>SEEK_END</strong>: 文件指针跳到文件结束的位置。<br>函数正常执行时则返回0，否则返回-1且会把错误码设置在<code>errno</code>中。<br><code>rewind()</code>相当于<code>fseek(file, 0, SEEK_SET)</code>。即直接跳转到文件开头位置。</p>
<p>示例代码如下：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> *filePath = <span class="string">"/Users/sodino/workspace/xcode/CString/CString/test.txt"</span>;</span><br><span class="line"></span><br><span class="line">    FILE* file = fopen(filePath, <span class="string">"w+"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"integer descriptor:%d \n"</span>, fileno(file));</span><br><span class="line">    <span class="keyword">if</span> (file == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"fopen fail:%s "</span>, filePath);</span><br><span class="line">        perror(<span class="string">""</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">fprintf</span>(file, <span class="string">"%s %d"</span>, <span class="string">"My_Age_is"</span>, <span class="number">19</span>); <span class="comment">// '_'为空格的话则无法正常读出</span></span><br><span class="line">    fseek(file, <span class="number">0</span>, SEEK_SET); <span class="comment">// 跳转到文件开头才能正常读取内容</span></span><br><span class="line">    <span class="keyword">char</span> arrRead[<span class="number">100</span>];</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    <span class="built_in">fscanf</span>(file, <span class="string">"%s %d"</span>, arrRead, &amp;age);</span><br><span class="line">    <span class="comment">// 打印出：read: My_Age_is 19</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"read: %s %d \n"</span>, arrRead, age);</span><br><span class="line"></span><br><span class="line">    fclose(file);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> EXIT_SUCCESS;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<p>#<a name="f_close">关闭文件</a></p>
<blockquote>
<p>int fclose(FILE *stream);<br>关闭文件(流)，如果流中仍有缓存内容未进行写操作，则会执行完写操作后再关闭。<br>关闭文件(流)之后，任何函数再有对<code>stream</code>进行操作的行为结果则都是未知的。所以请及时对<code>stream</code>置NULL。</p>
</blockquote>
<hr>
<p>#<a name="f_remove">删除文件</a></p>
<blockquote>
<p>int remove(const char *pathname);   <strong>Thread-Safe</strong><br><code>remove()</code>函数可以从文件系统中删除指定路径下的文件(夹)，内部实现中使用<code>unlink()</code>删除文件，使用<code>rmdir()</code>删除文件夹。</p>
</blockquote>
<p>如果指定的路径是其所代表的文件(夹)的最后一个链接(参照<a href="http://sodino.com/2015/03/06/linux-hard-and-symoblic-link/">硬链接和软链接</a>)且没有被其它进程后引用，则该文件(夹)会被立即删除，其所占用的空间也可以被重新利用。但如果有其它进程仍在引用着该文件(夹)，则删除和空间的回收操作要等到其它进程释放了当前文件(夹)的引用之后才会继续进行。</p>
<p>如果指定的路径是一个软链接文件，则只会删除该软链接文件，而非其指向的原始文件。</p>
</div><div class="tags"><a href="/tags/C-C/">C/C++</a></div><div class="post-nav"><a class="pre" href="/2015/03/09/c-directory-io/">【C/C++】文件夹的打开、遍历、删除、创建、关闭操作汇总</a><a class="next" href="/2015/03/06/c-file-detail-info/">【C/C++】判断File是文件(夹)、获取文件大小、uid,gid分组、硬链接数</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"><input type="hidden" name="sitesearch" value="http://sodino.com"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/android/">Android</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/AndroidStudio/">AndroidStudio</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/C-C/">C/C++</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Eclipse/">Eclipse</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hexo/">Hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JDK/">JDK</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JNI/">JNI</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/">JavaScript</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/LBS/">LBS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mac/">Mac</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Node-js/">Node.js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Proguard/">Proguard</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/React-Native/">React-Native</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/blog/" style="font-size: 15px;">blog</a> <a href="/tags/Android/" style="font-size: 15px;">Android</a> <a href="/tags/AndroidStudio/" style="font-size: 15px;">AndroidStudio</a> <a href="/tags/Eclipse/" style="font-size: 15px;">Eclipse</a> <a href="/tags/C-C/" style="font-size: 15px;">C/C++</a> <a href="/tags/object-Object/" style="font-size: 15px;">[object Object]</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/NDK/" style="font-size: 15px;">NDK</a> <a href="/tags/Hexo/" style="font-size: 15px;">Hexo</a> <a href="/tags/markdown/" style="font-size: 15px;">markdown</a> <a href="/tags/JNI/" style="font-size: 15px;">JNI</a> <a href="/tags/JavaScript/" style="font-size: 15px;">JavaScript</a> <a href="/tags/Node-js/" style="font-size: 15px;">Node.js</a> <a href="/tags/LBS/" style="font-size: 15px;">LBS</a> <a href="/tags/JDK/" style="font-size: 15px;">JDK</a> <a href="/tags/Mac/" style="font-size: 15px;">Mac</a> <a href="/tags/React-Native/" style="font-size: 15px;">React-Native</a> <a href="/tags/Proguard/" style="font-size: 15px;">Proguard</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/04/01/react-native-provide-custom-config-4-fresco/">【Android】React-Native为Fresco的初始化提供自定义的Configuration</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/22/dexcount/">【Android】方法数查看工具---DexCount</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/22/retrofit-notes/">【Android】Retrofit 的一些笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/20/android-transparent-statusbar/">【Android】透明状态栏在App中的实现与接口设计</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/28/android-ripple/">【Android】Ripple使用总结及ClickableSpan的冲突解决</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/14/react-native-es6-Solidot/">【React-Native】开源的入门项目 Solidot</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/01/android-mediaPlayer-2-bugs/">【Android】记录Android MediaPlayer的两个bug及其它特殊表现</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/01/android-gradle-change-appName/">【Android】Gadle改变应用名称(appName)的两种方法</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/01/mongo-background-service/">【Linux】启动mongo db后台服务</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/30/yum-uninstall-mongodb/">【Linux】yum卸载mongodb及后续问题的解决</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://blog.csdn.net/sodino" title="CSDN's blog" target="_blank">CSDN's blog</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2020 <a href="/." rel="nofollow">Sodino's Blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>